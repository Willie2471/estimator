<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Landscaping Cost Estimator</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Space Mono', 'Courier New', monospace;
      background: #f5f5f5;
      min-height: 100vh;
      padding: 40px 20px;
      color: #2c3e50;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: #ffffff;
      border-radius: 16px;
      border: 1px solid #e0e0e0;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(90deg, #2ecc71 0%, #27ae60 100%);
      padding: 32px;
      border-bottom: 1px solid #27ae60;
      color: #ffffff;
    }

    .header h1 {
      font-size: 32px;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 8px;
      color: #ffffff;
    }

    .header p {
      opacity: 0.95;
      font-size: 14px;
      letter-spacing: 0.5px;
      color: #ffffff;
    }

    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1px;
      background: #e0e0e0;
    }

    .left-panel {
      background: #ffffff;
      padding: 32px;
    }

    .right-panel {
      background: #fafafa;
      padding: 32px;
    }

    .section {
      margin-bottom: 32px;
    }

    .section h2 {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 20px;
      color: #27ae60;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    input, select {
      width: 100%;
      padding: 12px 16px;
      margin-bottom: 12px;
      background: #ffffff;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      color: #2c3e50;
      font-size: 14px;
      font-family: inherit;
      outline: none;
      transition: border-color 0.2s;
    }

    input:focus, select:focus {
      border-color: #27ae60;
    }

    input::placeholder {
      color: #95a5a6;
      opacity: 0.8;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-size: 13px;
      opacity: 0.9;
      color: #2c3e50;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      border: 2px solid #e0e0e0;
      transition: all 0.2s;
      background: #ffffff;
    }

    .checkbox-label.active {
      background: #e8f5e9;
      border-color: #27ae60;
    }

    .info-box {
      background: #f8f9fa;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 24px;
    }

    .info-box h3 {
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 16px;
      color: #27ae60;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 13px;
      color: #2c3e50;
    }

    .info-row span:first-child {
      opacity: 0.7;
    }

    .info-row span:last-child {
      font-weight: 600;
    }

    .divider {
      border-top: 2px solid #e0e0e0;
      margin: 12px 0;
      padding-top: 12px;
    }

    .price-box {
      border-radius: 8px;
      padding: 24px;
      margin-bottom: 24px;
      border: 2px solid;
    }

    .price-box.success {
      background: #e8f5e9;
      border-color: #27ae60;
    }

    .price-box.warning {
      background: #fff3e0;
      border-color: #f39c12;
    }

    .price-box h3 {
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .big-price {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 12px;
    }

    .price-box.success .big-price,
    .price-box.success h3 {
      color: #27ae60;
    }

    .price-box.warning .big-price,
    .price-box.warning h3 {
      color: #f39c12;
    }

    .status-badge {
      font-size: 12px;
      opacity: 0.9;
      padding: 12px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 6px;
      margin-bottom: 12px;
      color: #2c3e50;
    }

    button {
      width: 100%;
      padding: 16px;
      background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%);
      border: none;
      border-radius: 8px;
      color: #ffffff;
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.2s;
      box-shadow: 0 2px 8px rgba(39, 174, 96, 0.3);
    }

    button:hover {
      background: linear-gradient(90deg, #2ecc71 0%, #27ae60 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(39, 174, 96, 0.4);
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      opacity: 0.5;
      color: #7f8c8d;
    }

    .footer {
      background: #f8f9fa;
      padding: 16px 32px;
      border-top: 1px solid #e0e0e0;
      text-align: center;
      font-size: 12px;
      opacity: 0.7;
      color: #7f8c8d;
    }

    @media (max-width: 968px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üåø Landscaping Cost Estimator</h1>
      <p>Professional project estimation & job costing</p>
    </div>

    <div class="main-grid">
      <!-- LEFT PANEL -->
      <div class="left-panel">
        <!-- Project Details -->
        <div class="section">
          <h2>üìã Project Details</h2>
          <input type="text" id="projectName" placeholder="Project Name">
          <input type="text" id="projectType" placeholder="Project Type">
        </div>

        <!-- Material Selection -->
        <div class="section">
          <h2>üì¶ Material Selection</h2>
          <select id="materialCategory">
            <option value="mulch">Mulch</option>
            <option value="rock">Decorative Rock</option>
            <option value="dirt">Dirt/Soil</option>
            <option value="sod">Sod</option>
          </select>
          <select id="materialType"></select>
        </div>

        <!-- Dimensions -->
        <div class="section">
          <h2>üìê Dimensions</h2>
          <div id="dimensionsContainer"></div>
        </div>

        <!-- Add-ons -->
        <div class="section">
          <h2>‚ûï Add-ons</h2>
          <label class="checkbox-label" id="geoTextileLabel">
            <input type="checkbox" id="includeGeoTextile">
            <span>Geo Textile Fabric ($1.20/ft)</span>
          </label>
          <input type="number" id="geoTextileLinearFt" placeholder="Linear feet" style="display:none;">

          <label class="checkbox-label" id="edgingLabel">
            <input type="checkbox" id="includeEdging">
            <span>Composite Edging ($5.00/ft)</span>
          </label>
          <input type="number" id="edgingLinearFt" placeholder="Linear feet" style="display:none;">
        </div>

        <!-- Labor & Costs -->
        <div class="section">
          <h2>üíµ Labor & Additional Costs</h2>
          <div class="grid-2">
            <div>
              <label>Labor Hours</label>
              <input type="number" id="laborHours" placeholder="0">
            </div>
            <div>
              <label>Rate ($/hr)</label>
              <input type="number" id="laborRate" value="50">
            </div>
          </div>

          <div class="grid-2">
            <div>
              <label>Equipment Cost</label>
              <input type="number" id="equipmentCost" placeholder="0">
            </div>
            <div>
              <label>Delivery Fee</label>
              <input type="number" id="deliveryFee" placeholder="0">
            </div>
          </div>

          <div class="grid-2">
            <div>
              <label>Haul Away</label>
              <input type="number" id="haulAway" placeholder="0">
            </div>
            <div>
              <label>Markup (%)</label>
              <input type="number" id="markupPercent" value="0">
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT PANEL -->
      <div class="right-panel">
        <h2>üìä Estimate Summary</h2>
        <div id="summaryContent"></div>
      </div>
    </div>

    <div class="footer">
      Professional landscaping estimator ‚Ä¢ Integrated material cost database & job costing
    </div>
  </div>

  <script>
    // Material pricing data
    const MATERIALS = {
      mulch: [
        { name: 'Pine Bark', pricePerYard: 34, pricePerHalf: 17 },
        { name: 'Brown Mulch', pricePerYard: 34, pricePerHalf: 17 },
        { name: 'Red Mulch', pricePerYard: 34, pricePerHalf: 17 },
        { name: 'Chocolate Mulch', pricePerYard: 34, pricePerHalf: 17 }
      ],
      rock: [
        { name: '2" Granite', pricePerYard: 170, pricePerHalf: 85 },
        { name: '3/4" Brown Pea Stone', pricePerYard: 180, pricePerHalf: 90 },
        { name: '1.5" Brown River Rock', pricePerYard: 220, pricePerHalf: 110 },
        { name: '1-3" Brown River Rock', pricePerYard: 230, pricePerHalf: 115 },
        { name: 'Red Lava Rock', pricePerYard: 230, pricePerHalf: 115 }
      ],
      dirt: [
        { name: 'Fill Dirt/Top Soil', pricePerYard: 40, pricePerHalf: 20 }
      ],
      sod: [
        { name: 'Argentine Bahia', pricePerPallet: 170.5, pricePerSqFt: 0.42625 },
        { name: 'St. Augustine Floratam', pricePerPallet: 239.91, pricePerSqFt: 0.599775 },
        { name: 'St. Augustine Pro Vista', pricePerPallet: 313.74, pricePerSqFt: 0.78435 },
        { name: 'St. Augustine Citra Blue', pricePerPallet: 292.34, pricePerSqFt: 0.73085 },
        { name: 'Icon Zoysia', pricePerPallet: 313.74, pricePerSqFt: 0.78435 }
      ]
    };

    const ADDONS = {
      geoTextile: { name: 'Geo Textile Fabric', pricePerLinearFt: 1.20 },
      edging: { name: 'Composite Edging', pricePerLinearFt: 5.00 }
    };

    // DOM elements
    const materialCategory = document.getElementById('materialCategory');
    const materialType = document.getElementById('materialType');
    const dimensionsContainer = document.getElementById('dimensionsContainer');
    const includeGeoTextile = document.getElementById('includeGeoTextile');
    const geoTextileLinearFt = document.getElementById('geoTextileLinearFt');
    const includeEdging = document.getElementById('includeEdging');
    const edgingLinearFt = document.getElementById('edgingLinearFt');
    const summaryContent = document.getElementById('summaryContent');

    // Initialize
    function init() {
      updateMaterialOptions();
      updateDimensionsInputs();
      
      // Event listeners
      materialCategory.addEventListener('change', () => {
        updateMaterialOptions();
        updateDimensionsInputs();
        calculate();
      });

      materialType.addEventListener('change', calculate);

      includeGeoTextile.addEventListener('change', (e) => {
        geoTextileLinearFt.style.display = e.target.checked ? 'block' : 'none';
        document.getElementById('geoTextileLabel').classList.toggle('active', e.target.checked);
        calculate();
      });

      includeEdging.addEventListener('change', (e) => {
        edgingLinearFt.style.display = e.target.checked ? 'block' : 'none';
        document.getElementById('edgingLabel').classList.toggle('active', e.target.checked);
        calculate();
      });

      // Add input listeners for all inputs
      document.querySelectorAll('input, select').forEach(el => {
        el.addEventListener('input', calculate);
      });

      calculate();
    }

    function updateMaterialOptions() {
      const category = materialCategory.value;
      const materials = MATERIALS[category];
      
      materialType.innerHTML = materials.map(m => {
        const price = category === 'sod' 
          ? `$${m.pricePerSqFt.toFixed(2)}/sq ft`
          : `$${m.pricePerYard}/yard`;
        return `<option value="${m.name}">${m.name} - ${price}</option>`;
      }).join('');
    }

    function updateDimensionsInputs() {
      const category = materialCategory.value;
      
      if (category === 'sod') {
        dimensionsContainer.innerHTML = `
          <label>Square Feet</label>
          <input type="number" id="sqFt" placeholder="Enter square feet">
        `;
      } else {
        dimensionsContainer.innerHTML = `
          <div class="grid-2">
            <div>
              <label>Length (ft)</label>
              <input type="number" id="length" placeholder="0">
            </div>
            <div>
              <label>Width (ft)</label>
              <input type="number" id="width" placeholder="0">
            </div>
          </div>
          <label>Depth (inches)</label>
          <input type="number" id="depth" value="1">
        `;
      }

      // Re-attach listeners
      dimensionsContainer.querySelectorAll('input').forEach(el => {
        el.addEventListener('input', calculate);
      });
    }

    function formatCurrency(value) {
      return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 2
      }).format(value || 0);
    }

    function calculate() {
      const category = materialCategory.value;
      const selectedMaterialName = materialType.value;
      const material = MATERIALS[category].find(m => m.name === selectedMaterialName);
      
      if (!material) return;

      let materialCost = 0;
      let cubicYards = 0;
      let cubicFeet = 0;
      let totalSqFt = 0;
      let totalLinearFt = 0;

      if (category === 'sod') {
        const sqFt = parseFloat(document.getElementById('sqFt')?.value || 0);
        totalSqFt = sqFt;
        materialCost = sqFt * material.pricePerSqFt;
      } else {
        const length = parseFloat(document.getElementById('length')?.value || 0);
        const width = parseFloat(document.getElementById('width')?.value || 0);
        const depth = parseFloat(document.getElementById('depth')?.value || 1);
        
        totalSqFt = length * width;
        totalLinearFt = length;
        cubicFeet = (length * width * depth) / 12;
        cubicYards = cubicFeet / 27;
        
        materialCost = cubicYards * material.pricePerYard;
      }

      const geoTextileCost = includeGeoTextile.checked 
        ? (parseFloat(geoTextileLinearFt.value) || 0) * ADDONS.geoTextile.pricePerLinearFt 
        : 0;
      const edgingCost = includeEdging.checked 
        ? (parseFloat(edgingLinearFt.value) || 0) * ADDONS.edging.pricePerLinearFt 
        : 0;
      const addOnsCost = geoTextileCost + edgingCost;

      const laborCost = (parseFloat(document.getElementById('laborHours').value) || 0) 
        * (parseFloat(document.getElementById('laborRate').value) || 0);
      const equipment = parseFloat(document.getElementById('equipmentCost').value) || 0;
      const delivery = parseFloat(document.getElementById('deliveryFee').value) || 0;
      const haul = parseFloat(document.getElementById('haulAway').value) || 0;

      const subtotal = materialCost + addOnsCost + laborCost + equipment + delivery + haul;
      const markupAmount = subtotal * (parseFloat(document.getElementById('markupPercent').value) / 100);
      const totalWithMarkup = subtotal + markupAmount;

      const targetProfit = totalWithMarkup * 0.4;
      const recommendedPrice = totalWithMarkup + targetProfit;
      const profitMargin = (targetProfit / recommendedPrice) * 100;

      displaySummary({
        materialCost,
        addOnsCost,
        geoTextileCost,
        edgingCost,
        laborCost,
        equipmentCost: equipment,
        deliveryFee: delivery,
        haulAway: haul,
        subtotal,
        markupAmount,
        totalWithMarkup,
        targetProfit,
        recommendedPrice,
        profitMargin,
        cubicYards,
        cubicFeet,
        totalSqFt,
        totalLinearFt,
        category,
        materialName: selectedMaterialName
      });
    }

    function displaySummary(estimate) {
      const meetsGoal = estimate.profitMargin >= 40;
      
      summaryContent.innerHTML = `
        <!-- Measurements -->
        <div class="info-box">
          <h3>üìè Measurements</h3>
          ${estimate.category !== 'sod' ? `
            <div class="info-row">
              <span>Area:</span>
              <span>${estimate.totalSqFt.toFixed(2)} sq ft</span>
            </div>
            <div class="info-row">
              <span>Volume:</span>
              <span>${estimate.cubicYards.toFixed(2)} cu yd</span>
            </div>
            <div class="info-row">
              <span>Cubic Feet:</span>
              <span>${estimate.cubicFeet.toFixed(2)} cu ft</span>
            </div>
          ` : `
            <div class="info-row">
              <span>Area:</span>
              <span>${estimate.totalSqFt.toFixed(2)} sq ft</span>
            </div>
          `}
        </div>

        <!-- Cost Breakdown -->
        <div class="info-box" style="background: rgba(0, 0, 0, 0.3);">
          <h3>üí∞ Cost Breakdown</h3>
          <div class="info-row">
            <span>Material:</span>
            <span>${formatCurrency(estimate.materialCost)}</span>
          </div>
          ${estimate.addOnsCost > 0 ? `
            <div class="info-row">
              <span>Add-ons:</span>
              <span>${formatCurrency(estimate.addOnsCost)}</span>
            </div>
          ` : ''}
          ${estimate.laborCost > 0 ? `
            <div class="info-row">
              <span>Labor:</span>
              <span>${formatCurrency(estimate.laborCost)}</span>
            </div>
          ` : ''}
          ${estimate.equipmentCost > 0 ? `
            <div class="info-row">
              <span>Equipment:</span>
              <span>${formatCurrency(estimate.equipmentCost)}</span>
            </div>
          ` : ''}
          ${estimate.deliveryFee > 0 ? `
            <div class="info-row">
              <span>Delivery:</span>
              <span>${formatCurrency(estimate.deliveryFee)}</span>
            </div>
          ` : ''}
          ${estimate.haulAway > 0 ? `
            <div class="info-row">
              <span>Haul Away:</span>
              <span>${formatCurrency(estimate.haulAway)}</span>
            </div>
          ` : ''}
          <div class="info-row divider" style="font-weight: 700;">
            <span>Subtotal:</span>
            <span>${formatCurrency(estimate.subtotal)}</span>
          </div>
          ${estimate.markupAmount > 0 ? `
            <div class="info-row">
              <span>Markup:</span>
              <span>${formatCurrency(estimate.markupAmount)}</span>
            </div>
          ` : ''}
          <div class="info-row" style="font-weight: 700; margin-top: 8px;">
            <span>Total with Markup:</span>
            <span>${formatCurrency(estimate.totalWithMarkup)}</span>
          </div>
        </div>

        <!-- Pricing Recommendation -->
        <div class="price-box ${meetsGoal ? 'success' : 'warning'}">
          <h3>üéØ Pricing Recommendation</h3>
          <div class="big-price">${formatCurrency(estimate.recommendedPrice)}</div>
          <div style="font-size: 13px; opacity: 0.9; margin-bottom: 12px;">
            Target profit margin: ${estimate.profitMargin.toFixed(1)}%
          </div>
          <div class="status-badge">
            ${meetsGoal 
              ? '‚úì This project meets the 40% profit margin goal'
              : '‚ö† This project is below the 40% profit margin goal'
            }
          </div>
          <div style="font-size: 12px; opacity: 0.7;">
            Expected profit: ${formatCurrency(estimate.targetProfit)}
          </div>
        </div>

        <!-- Download Button -->
        <button onclick="downloadEstimate()">üì• Download Estimate Report</button>
      `;
    }

    function downloadEstimate() {
      const projectName = document.getElementById('projectName').value || 'landscape';
      const projectType = document.getElementById('projectType').value || '';
      
      // Recalculate to get current values
      calculate();
      
      const report = `LANDSCAPING PROJECT ESTIMATE
${projectName ? `Project: ${projectName}` : ''}
${projectType ? `Type: ${projectType}` : ''}
Generated: ${new Date().toLocaleDateString()}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

See estimate details in the interface above.

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`;

      const blob = new Blob([report], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `estimate-${projectName}-${Date.now()}.txt`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // Initialize on load
    window.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
